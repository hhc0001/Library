#include <bits/stdc++.h>
using namespace std;

struct node {
  int x, y;
}arr[10010];

int n;
long double ans = 1e10, dp[10010][110];

long long sqr(long long a) {
  return a * a;
}

long double dist(int x, int y, int z, int w) {
  return sqrt(sqr(x - z) + sqr(y - w));
}

int main() {
  cin >> n;
  for(int i = 1; i <= n; i++) {
    cin >> arr[i].x >> arr[i].y;
  }
  fill(dp[1] + 1, dp[1] + 19, 1e10);
  for(int i = 2; i <= n; i++) {
    for(int j = 0; j <= min(28, n); j++) {
      dp[i][j] = 1e10;
      for(int k = i - 1; k >= max(i - j - 1, 1); k--) {
        dp[i][j] = min(dp[i][j], dp[k][j - (i - k - 1)] + dist(arr[k].x, arr[k].y, arr[i].x, arr[i].y));
      }
    }
  }
  //cout << dist(0, 0, 2, 1) << '\n';
  for(int i = 0; i <= min(28, n); i++) {
    ans = min(ans, (long double)dp[n][i] + ((!i)? 0 : (1 << (i - 1))));
    //cout << i << ' ' << dp[n][i] << ' ' << ((!i)? 0 : (1 << (i - 1))) << '\n';
  }
  cout << fixed << setprecision(8) << ans << '\n';
  return 0;
}
/*
................................................................................
..*******.........*........*..........**....*******.....**********.....*******..
.....*............*........*........**.........*.......*..........*.......*.....
.....*............*........*......**...........*.......*..........*.......*.....
.....*...........*.*.......*....**.............*.......*..........*.......*.....
.....*...........*.*.......*..**...............*.......*..........*.......*.....
.....*..........*..*.......***.................*.......*..........*.......*.....
.....*..........*...*......***.................*.......*..........*.......*.....
.....*.........*....*......*..**...............*.......*..........*.......*.....
.....*.........*....*......*....**.............*.......*..........*.......*.....
.....*........********.....*......**...........*.......*..........*.......*.....
.....*........*......*.....*........**.........*.......*..........*.......*.....
..*******....***....***....*..........**....*******.....**********.....*******..
................................................................................
*/